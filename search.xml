<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Third-party sync API (WealthTree)</title>
      <link href="/blog/p/16167/"/>
      <url>/blog/p/16167/</url>
      
        <content type="html"><![CDATA[<h1 id="Third-party-sync-API-WealthTree"><a href="#Third-party-sync-API-WealthTree" class="headerlink" title="Third-party sync API (WealthTree)"></a>Third-party sync API (WealthTree)</h1><p>This document describes the exact HTTP requests the WealthTree iOS app sends to a user-provided ‚Äúthird-party sync server‚Äù, so anyone can implement a compatible endpoint.</p><p>Base URL: your server endpoint (example: <code>https://example.com/api/wealthtree/sync</code>).</p><h2 id="Auth"><a href="#Auth" class="headerlink" title="Auth"></a>Auth</h2><p>If the user enters an API Key in the app, it is sent as a header:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">X-API-Key: &#123;apiKey&#125;</span><br></pre></td></tr></table></figure><p>If left blank, the header is omitted.</p><p>The app also sends:</p><ul><li><code>Content-Type: application/json</code> (for upload requests with body)</li><li><code>Accept: application/json</code></li></ul><p>Notes:</p><ul><li>The app does NOT send Basic Auth.</li><li>Request timeout is ~20 seconds.</li></ul><h2 id="Request-Format"><a href="#Request-Format" class="headerlink" title="Request Format"></a>Request Format</h2><p>All requests use <strong>query parameters</strong> (not request body for metadata):</p><ul><li><code>sync_type</code> (required): <code>&quot;upload&quot;</code> or <code>&quot;download&quot;</code></li><li><code>user_id</code> (required): User identifier (treat as opaque string)</li><li><code>app_name</code> (required): Always <code>&quot;WealthTree&quot;</code></li></ul><p>Example URLs:</p><ul><li>Upload: <code>POST &#123;base&#125;?sync_type=upload&amp;user_id=&#123;userId&#125;&amp;app_name=WealthTree</code></li><li>Download: <code>POST &#123;base&#125;?sync_type=download&amp;user_id=&#123;userId&#125;&amp;app_name=WealthTree</code></li></ul><h2 id="Data-Model"><a href="#Data-Model" class="headerlink" title="Data Model"></a>Data Model</h2><p>The app uploads&#x2F;downloads a full <strong>snapshot</strong> object called <code>WealthData</code> (not a list of entries).</p><p>If you don‚Äôt want to reverse-engineer the full schema, the easiest implementation is:</p><ol><li>store the uploaded JSON blob as-is (per <code>user_id</code>),</li><li>return the same blob on download.</li></ol><p>The payload can be large.</p><h2 id="Upload"><a href="#Upload" class="headerlink" title="Upload"></a>Upload</h2><p><code>POST &#123;base&#125;?sync_type=upload&amp;user_id=&#123;userId&#125;&amp;app_name=WealthTree</code></p><p>Request body: The complete <code>WealthData</code> object as JSON</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;roots&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>...<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lastModifiedTimestamp&quot;</span><span class="punctuation">:</span> <span class="number">1234567890.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>...<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Response:</p><ul><li>HTTP status MUST be 2xx for success.</li><li>Response format:</li></ul><p><strong>Success (200):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Notes on response fields:</p><ul><li><code>code</code>: Integer <code>0</code> indicates success (also accepts <code>200</code>)</li><li><code>message</code>: Optional descriptive message</li><li><code>data</code>: Can be an empty string or any message for upload responses</li></ul><p><strong>Validation Error (422):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;loc&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;string&quot;</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p><code>POST &#123;base&#125;?sync_type=download&amp;user_id=&#123;userId&#125;&amp;app_name=WealthTree</code></p><p>Request body: None (or empty)</p><p>Response:</p><ul><li>HTTP status MUST be 2xx for success.</li><li>Response format:</li></ul><p><strong>Success (200):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Notes on <code>data</code> field:</p><ul><li>The <code>data</code> field should contain the <strong>WealthData object as a JSON string</strong></li><li>Example: <code>&quot;data&quot;: &quot;&#123;\&quot;roots\&quot;:[...],\&quot;lastModifiedTimestamp\&quot;:1234567890.0,...&#125;&quot;</code></li><li>The app will automatically parse this JSON string to extract the WealthData object</li></ul><p>Alternative formats (backward compatibility):</p><ul><li><code>data</code> as object: <code>&#123; &quot;data&quot;: &#123; &quot;roots&quot;: [...], ... &#125; &#125;</code></li><li><code>data</code> nested: <code>&#123; &quot;data&quot;: &#123; &quot;data&quot;: &#123; &quot;roots&quot;: [...], ... &#125; &#125; &#125;</code></li></ul><p><strong>Validation Error (422):</strong><br>Same format as upload errors.</p><h3 id="Success-code-values"><a href="#Success-code-values" class="headerlink" title="Success code values"></a>Success code values</h3><p>The app accepts the following values for the <code>code</code> field as success:</p><ul><li>Integer: <code>0</code> or <code>200</code></li><li>String: <code>&quot;0&quot;</code> or <code>&quot;200&quot;</code> or <code>&quot;&quot;</code> (empty string)</li><li>Omitted entirely (also treated as success)</li></ul><p>Any other <code>code</code> value will be treated as an error.</p><h3 id="Empty-snapshot-protection"><a href="#Empty-snapshot-protection" class="headerlink" title="Empty-snapshot protection"></a>Empty-snapshot protection</h3><ul><li>The app may reject a download if it <em>looks like an empty snapshot</em> (all major arrays empty AND all timestamps are 0), to avoid overwriting local data with a bad server response.</li><li>If your server legitimately stores an ‚Äúempty account‚Äù, include meaningful timestamps or return the last known snapshot.</li></ul><h2 id="Minimal-reference-implementation"><a href="#Minimal-reference-implementation" class="headerlink" title="Minimal reference implementation"></a>Minimal reference implementation</h2><p>The simplest compatible server stores the <strong>latest uploaded WealthData</strong> per <code>user_id</code>, then returns it on download.</p><p>Behavior:</p><ul><li>On <code>sync_type=upload</code>: save the request body as the latest snapshot for <code>user_id</code>.</li><li>On <code>sync_type=download</code>: return the latest saved snapshot as a JSON string in the <code>data</code> field.</li></ul><p>Important:</p><ul><li>Store the WealthData JSON as-is; don‚Äôt normalize or parse unless you fully understand the schema.</li><li>If no snapshot exists yet, return an error (404 or non-success <code>code</code>) rather than an empty snapshot.</li></ul><h3 id="Example-Node-js-Express-in-memory-store"><a href="#Example-Node-js-Express-in-memory-store" class="headerlink" title="Example (Node.js + Express, in-memory store):"></a>Example (Node.js + Express, in-memory store):</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> express <span class="keyword">from</span> <span class="string">&quot;express&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>(&#123; <span class="attr">limit</span>: <span class="string">&quot;20mb&quot;</span> &#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// In production, replace with a DB table keyed by (user_id).</span></span><br><span class="line"><span class="keyword">const</span> latestByUser = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&quot;/api/wealthtree/sync&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; sync_type, user_id, app_name &#125; = req.<span class="property">query</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!user_id || !sync_type) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">      <span class="attr">code</span>: <span class="number">400</span>, </span><br><span class="line">      <span class="attr">message</span>: <span class="string">&quot;missing user_id or sync_type&quot;</span> </span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (sync_type === <span class="string">&quot;upload&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> wealthData = req.<span class="property">body</span>;</span><br><span class="line">    <span class="keyword">if</span> (!wealthData || <span class="title class_">Object</span>.<span class="title function_">keys</span>(wealthData).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">        <span class="attr">code</span>: <span class="number">400</span>, </span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;missing data in body&quot;</span> </span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    latestByUser.<span class="title function_">set</span>(<span class="title class_">String</span>(user_id), wealthData);</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">      <span class="attr">code</span>: <span class="number">0</span>, </span><br><span class="line">      <span class="attr">message</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">      <span class="attr">data</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (sync_type === <span class="string">&quot;download&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> snapshot = latestByUser.<span class="title function_">get</span>(<span class="title class_">String</span>(user_id));</span><br><span class="line">    <span class="keyword">if</span> (!snapshot) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">404</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">        <span class="attr">code</span>: <span class="number">404</span>, </span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;no snapshot for user&quot;</span> </span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Return data as JSON string</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">      <span class="attr">code</span>: <span class="number">0</span>, </span><br><span class="line">      <span class="attr">message</span>: <span class="string">&quot;ok&quot;</span>, </span><br><span class="line">      <span class="attr">data</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(snapshot)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">json</span>(&#123; </span><br><span class="line">    <span class="attr">code</span>: <span class="number">400</span>, </span><br><span class="line">    <span class="attr">message</span>: <span class="string">&quot;invalid sync_type&quot;</span> </span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><h3 id="Example-Python-FastAPI"><a href="#Example-Python-FastAPI" class="headerlink" title="Example (Python + FastAPI):"></a>Example (Python + FastAPI):</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, Query, HTTPException</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span>, <span class="type">Dict</span>, <span class="type">Optional</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="comment"># In production, replace with a database</span></span><br><span class="line">latest_by_user: <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="type">Any</span>] = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/api/wealthtree/sync&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">sync</span>(<span class="params"></span></span><br><span class="line"><span class="params">    sync_type: <span class="built_in">str</span> = Query(<span class="params">...</span>),</span></span><br><span class="line"><span class="params">    user_id: <span class="built_in">str</span> = Query(<span class="params">...</span>),</span></span><br><span class="line"><span class="params">    app_name: <span class="built_in">str</span> = Query(<span class="params">...</span>),</span></span><br><span class="line"><span class="params">    wealth_data: <span class="type">Optional</span>[<span class="type">Dict</span>[<span class="built_in">str</span>, <span class="type">Any</span>]] = <span class="literal">None</span></span></span><br><span class="line"><span class="params"></span>):</span><br><span class="line">    <span class="keyword">if</span> sync_type == <span class="string">&quot;upload&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> wealth_data:</span><br><span class="line">            <span class="keyword">raise</span> HTTPException(</span><br><span class="line">                status_code=<span class="number">400</span>, </span><br><span class="line">                detail=&#123;<span class="string">&quot;code&quot;</span>: <span class="number">400</span>, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;missing data in body&quot;</span>&#125;</span><br><span class="line">            )</span><br><span class="line">        latest_by_user[user_id] = wealth_data</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;code&quot;</span>: <span class="number">0</span>, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;ok&quot;</span>, <span class="string">&quot;data&quot;</span>: <span class="string">&quot;&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">elif</span> sync_type == <span class="string">&quot;download&quot;</span>:</span><br><span class="line">        snapshot = latest_by_user.get(user_id)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> snapshot:</span><br><span class="line">            <span class="keyword">raise</span> HTTPException(</span><br><span class="line">                status_code=<span class="number">404</span>,</span><br><span class="line">                detail=&#123;<span class="string">&quot;code&quot;</span>: <span class="number">404</span>, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;no snapshot for user&quot;</span>&#125;</span><br><span class="line">            )</span><br><span class="line">        <span class="comment"># Return data as JSON string</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;message&quot;</span>: <span class="string">&quot;ok&quot;</span>,</span><br><span class="line">            <span class="string">&quot;data&quot;</span>: json.dumps(snapshot)</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> HTTPException(</span><br><span class="line">            status_code=<span class="number">400</span>,</span><br><span class="line">            detail=&#123;<span class="string">&quot;code&quot;</span>: <span class="number">400</span>, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;invalid sync_type&quot;</span>&#125;</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><h2 id="API-Summary"><a href="#API-Summary" class="headerlink" title="API Summary"></a>API Summary</h2><h3 id="Request-Parameters-Query-String"><a href="#Request-Parameters-Query-String" class="headerlink" title="Request Parameters (Query String)"></a>Request Parameters (Query String)</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>sync_type</code></td><td><code>string</code></td><td>Yes</td><td><code>&quot;upload&quot;</code> or <code>&quot;download&quot;</code></td></tr><tr><td><code>user_id</code></td><td><code>string</code></td><td>Yes</td><td>User identifier (opaque)</td></tr><tr><td><code>app_name</code></td><td><code>string</code></td><td>Yes</td><td>Always <code>&quot;WealthTree&quot;</code></td></tr></tbody></table><h3 id="Request-Headers"><a href="#Request-Headers" class="headerlink" title="Request Headers"></a>Request Headers</h3><table><thead><tr><th>Header</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>X-API-Key</code></td><td>No</td><td>API key if configured by user</td></tr><tr><td><code>Content-Type</code></td><td>For upload</td><td><code>application/json</code></td></tr><tr><td><code>Accept</code></td><td>Yes</td><td><code>application/json</code></td></tr></tbody></table><h3 id="Response-Format-Success"><a href="#Response-Format-Success" class="headerlink" title="Response Format (Success)"></a>Response Format (Success)</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>code</code></td><td><code>int</code></td><td><code>0</code> or <code>200</code> for success</td></tr><tr><td><code>message</code></td><td><code>string</code></td><td>Optional message</td></tr><tr><td><code>data</code></td><td><code>string</code></td><td>For download: JSON string of WealthData. For upload: can be empty.</td></tr></tbody></table><p>The app is designed to be flexible with response formats to maximize compatibility with different backend implementations.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Third-party sync API (Eve Period Tracker)</title>
      <link href="/blog/p/27873/"/>
      <url>/blog/p/27873/</url>
      
        <content type="html"><![CDATA[<h1 id="Third-party-sync-API-Eve-Period-Tracker"><a href="#Third-party-sync-API-Eve-Period-Tracker" class="headerlink" title="Third-party sync API (Eve Period Tracker)"></a>Third-party sync API (Eve Period Tracker)</h1><h2 id="Base-URL-Configuration"><a href="#Base-URL-Configuration" class="headerlink" title="Base URL Configuration"></a>Base URL Configuration</h2><p>The app supports flexible base URL configurations:</p><ul><li><strong>Recommended</strong>: <code>https://api.example.com/v1/cloudkit</code> (full path)</li><li><strong>Also supported</strong>: <code>https://api.example.com</code> (the app auto-appends <code>/v1/cloudkit/&#123;action&#125;</code>)</li><li><strong>Legacy compatible</strong>: Paths with <code>/v1/Cloudkit/</code> or <code>/api/v1/cloudkit/</code></li></ul><p>The app automatically normalizes URLs and retries common path variants on HTTP 404.</p><h2 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h2><p>If the user enters an API Key in the app, it is sent as:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">X-API-Key: &#123;apiKey&#125;</span><br></pre></td></tr></table></figure><p>If left blank, no Authorization header is added.</p><h2 id="Upload-Endpoint"><a href="#Upload-Endpoint" class="headerlink" title="Upload Endpoint"></a>Upload Endpoint</h2><p><strong><code>POST &#123;base&#125;/save</code></strong></p><p>Example: <code>POST https://api.example.com/v1/cloudkit/save</code></p><p><strong>Request Body:</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span>              <span class="comment">// required, user identifier</span></span><br><span class="line">  <span class="attr">&quot;app_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Eve Period&quot;</span><span class="punctuation">,</span>         <span class="comment">// fixed app name</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;period-backup&quot;</span><span class="punctuation">,</span>          <span class="comment">// fixed backup name</span></span><br><span class="line">  <span class="attr">&quot;remark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;iOS backup from Eve Period&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sync_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;upload&quot;</span><span class="punctuation">,</span>            <span class="comment">// indicates upload intent</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>                         <span class="comment">// array of period entries</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UUID&quot;</span><span class="punctuation">,</span>                 <span class="comment">// unique entry ID</span></span><br><span class="line">      <span class="attr">&quot;startDate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2024-01-01T00:00:00Z&quot;</span><span class="punctuation">,</span>  <span class="comment">// ISO 8601 format</span></span><br><span class="line">      <span class="attr">&quot;note&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span>                   <span class="comment">// optional note</span></span><br><span class="line">      <span class="attr">&quot;isPredicted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>         <span class="comment">// prediction flag</span></span><br><span class="line">      <span class="attr">&quot;sequence&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span>                <span class="comment">// entry sequence</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;come&quot;</span><span class="punctuation">,</span>               <span class="comment">// entry type</span></span><br><span class="line">      <span class="attr">&quot;cycleLength&quot;</span><span class="punctuation">:</span> <span class="number">28</span>             <span class="comment">// cycle length in days</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>Success Response (200):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ok&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>Error Response (4xx&#x2F;5xx):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Error description&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Or FastAPI style:</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Error description&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Download-Endpoint"><a href="#Download-Endpoint" class="headerlink" title="Download Endpoint"></a>Download Endpoint</h2><p><strong><code>GET &#123;base&#125;/show</code></strong></p><p>Example: <code>GET https://api.example.com/v1/cloudkit/show?user_id=xxx&amp;app_name=Eve%20Period&amp;sync_type=download</code></p><p><strong>Query Parameters:</strong></p><ul><li><code>user_id</code> (required): User identifier</li><li><code>app_name</code> (required): <code>Eve Period</code></li><li><code>sync_type</code> (required): <code>download</code></li></ul><p><strong>Success Response (200):</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ok&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UUID&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;startDate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2024-01-01T00:00:00Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;note&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;isPredicted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;sequence&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;come&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cycleLength&quot;</span><span class="punctuation">:</span> <span class="number">28</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>The response <code>data</code> should be an array of entries matching the upload format. The app merges&#x2F;overwrites local data based on the selected sync mode.</p><h2 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h2><p>The app displays detailed error messages including:</p><ul><li>HTTP status code (e.g., <code>401</code>, <code>404</code>, <code>500</code>)</li><li>Request URL</li><li>Server error message from <code>message</code> or <code>detail</code> field</li></ul><p>Example error shown to user:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">API failed (HTTP 404) at https://api.example.com/v1/cloudkit/save: Not Found</span><br></pre></td></tr></table></figure><h2 id="Path-Auto-Correction"><a href="#Path-Auto-Correction" class="headerlink" title="Path Auto-Correction"></a>Path Auto-Correction</h2><p>On HTTP 404, the app automatically retries with common path variants:</p><ul><li>Case variations: <code>/v1/cloudkit/</code> ‚Üî <code>/v1/Cloudkit/</code></li><li>Prefix removal: <code>/api/v1/cloudkit/</code> ‚Üí <code>/v1/cloudkit/</code></li><li>Path reconstruction from configured base URL</li></ul><p>This ensures compatibility with various server configurations without manual adjustment.</p>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>404</title>
      <link href="/blog/404/index.html"/>
      <url>/blog/404/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="Page-Not-Found"><a href="#Page-Not-Found" class="headerlink" title="Page Not Found"></a>Page Not Found</h1><p><a href="javascript:history.go(-1)">‚¨ÖËøîÂõû‰∏äÈ°µ</a></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ü§ù About Me</title>
      <link href="/blog/about/index.html"/>
      <url>/blog/about/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="üëã-Hello-I‚Äôm-Harry"><a href="#üëã-Hello-I‚Äôm-Harry" class="headerlink" title="üëã Hello, I‚Äôm Harry"></a>üëã Hello, I‚Äôm Harry</h2><p>I‚Äôm an <strong>independent developer</strong> passionate about creating meaningful applications that respect user freedom and privacy.</p><hr><h2 id="üÜì-The-Free-Internet-Spirit"><a href="#üÜì-The-Free-Internet-Spirit" class="headerlink" title="üÜì The Free Internet Spirit"></a>üÜì The Free Internet Spirit</h2><p>I believe the internet should carry a <strong>spirit of freedom and public service</strong>.</p><p>That‚Äôs why every app I build is <strong>free forever</strong>. I don‚Äôt believe access to essential tools and quality experiences should be locked behind mandatory fees.</p><p>I keep things running through <strong>optional donations</strong>. If you find my work useful and want to support it, thank you ‚Äî it directly helps sustain development and infrastructure.</p><p>And if you can‚Äôt pay right now, that‚Äôs completely okay. <strong>Everyone deserves access to good services</strong>, including people going through a tight season.</p><hr><h2 id="üí°-My-Philosophy"><a href="#üí°-My-Philosophy" class="headerlink" title="üí° My Philosophy"></a>üí° My Philosophy</h2><p>I believe in the power of <strong>small but beautiful apps</strong> ‚Äî tools that do one thing exceptionally well without unnecessary complexity. </p><p><strong>Your data belongs to you.</strong> I‚Äôm committed to building applications where your personal information stays in your hands, not uploaded to corporate servers for advertising or profit. In an era of data exploitation, I believe it‚Äôs time for software to return to its essence: serving users, not surveilling them.</p><blockquote><p><em>Privacy is not about having something to hide. It‚Äôs about having something to protect: your autonomy, your dignity, and your right to be yourself.</em></p></blockquote><hr><h2 id="üéØ-What-I-Do"><a href="#üéØ-What-I-Do" class="headerlink" title="üéØ What I Do"></a>üéØ What I Do</h2><p>I create tools that:</p><ul><li>‚ú® Prioritize user experience over feature bloat</li><li>üîí Keep your data local and secure</li><li>üå± Respect your time and attention</li><li>üöÄ Focus on simplicity and elegance</li></ul><p>Every line of code I write is guided by one principle: <strong>technology should empower individuals, not exploit them.</strong></p><hr><h2 id="üèÉ‚Äç‚ôÇÔ∏è-Beyond-the-Screen"><a href="#üèÉ‚Äç‚ôÇÔ∏è-Beyond-the-Screen" class="headerlink" title="üèÉ‚Äç‚ôÇÔ∏è Beyond the Screen"></a>üèÉ‚Äç‚ôÇÔ∏è Beyond the Screen</h2><p>When I‚Äôm not coding, you‚Äôll find me:</p><ul><li>üõπ <strong>Skateboarding</strong> through city streets</li><li>üö¥ <strong>Cycling</strong> on scenic routes</li><li>üö∂ <strong>Power walking</strong> to clear my mind</li></ul><p>These activities remind me that the best solutions often come when we step away from the keyboard and reconnect with the physical world.</p><hr><h2 id="üåç-My-Values"><a href="#üåç-My-Values" class="headerlink" title="üåç My Values"></a>üåç My Values</h2><ul><li><strong>User sovereignty</strong>: You should control your technology, not the other way around</li><li><strong>Digital minimalism</strong>: Less is more when it comes to features</li><li><strong>Open communication</strong>: Transparency builds trust</li><li><strong>Continuous learning</strong>: Every project is an opportunity to grow</li><li><strong>Sustainability</strong>: Building for the long term, not quick profits</li></ul><hr><h2 id="üéµ-My-Playlists"><a href="#üéµ-My-Playlists" class="headerlink" title="üéµ My Playlists"></a>üéµ My Playlists</h2><p>I also love music. Here‚Äôs the playlist collection I listen to most often:</p><ul><li>üéß Spotify playlists: <a href="https://open.spotify.com/user/31t5u53mwpl4q7ltoubihquwbdo4/playlists">https://open.spotify.com/user/31t5u53mwpl4q7ltoubihquwbdo4/playlists</a></li></ul><hr><h2 id="üì¨-Get-in-Touch"><a href="#üì¨-Get-in-Touch" class="headerlink" title="üì¨ Get in Touch"></a>üì¨ Get in Touch</h2><p>I‚Äôm always excited to connect with fellow developers, designers, and users who share these values.</p><ul><li>üìß Email: <a href="mailto:&#104;&#97;&#x6f;&#108;&#101;&#105;&#113;&#64;&#103;&#109;&#97;&#105;&#x6c;&#46;&#x63;&#x6f;&#x6d;">haoleiq@gmail.com</a></li><li>üåê Website: <a href="https://harry-studio.github.io/app">harry-studio.github.io&#x2F;app</a></li></ul><p>Whether you have a question, feedback, or just want to chat about technology and user freedom, feel free to reach out!</p><hr><p><em>‚ÄúThe best technology is the technology you don‚Äôt notice ‚Äî it simply works, respects you, and gets out of your way.‚Äù</em></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ÂàÜÁ±ª</title>
      <link href="/blog/categories/index.html"/>
      <url>/blog/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>üì¨ËÅîÁ≥ª</title>
      <link href="/blog/contact/index.html"/>
      <url>/blog/contact/index.html</url>
      
        <content type="html"><![CDATA[<ul><li>üì´: <a href="mailto:&#x48;&#97;&#x6f;&#x6c;&#101;&#105;&#x51;&#64;&#103;&#109;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#109;">HaoleiQ@gmail.com</a></li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>Ê†áÁ≠æ</title>
      <link href="/blog/tags/index.html"/>
      <url>/blog/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
